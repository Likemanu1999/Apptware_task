<div class="profile-env">
	<header class="row">
		<div class="col-sm-2">
			<div class="profile_pic">
				<img [src]="data.user_profile_photo" class="img-responsive img-circle profile_pic_image" />
				<div *ngIf="!view_only_profile && data.active_status == 1" class="profile_pic_content"
					(click)="changeProfilePhoto()">
					<span class="profile_pic_icon">
						<i class="fa fa-camera"></i>
					</span>
					<span class="profile_pic_text">Change Photo</span>
				</div>
			</div>
		</div>
		<div class="col-sm-10">
			<ul class="profile-info-sections">
				<li>
					<div class="profile-name">
						<strong class="text-primary mb-2">{{data.full_name}} &nbsp;
							<a class="text-success" [routerLink]="editStaffLink"
								*ngIf="!view_only_profile && data.active_status == 1">
								<i class="fa fa-edit"></i>
							</a>
						</strong>
						<span class="text-dark">{{data.job_profile}}</span>
					</div>
					<br>
					<p>
						<span>
							<i class="fa fa-envelope-o"></i> <u style="color: blue;"> {{ data.email }}</u>
						</span>
						<span class="divider mx-3">|</span>
						<span>
							<i class="fa fa-phone"></i> {{ data.mobile }}
						</span>
					</p>
					<button class="btn btn-primary btn-sm" type="button" (click)="changePassword()"
						*ngIf="!view_only_profile && data.active_status == 1">
						<i class="fa fa-key"></i> Change Password
					</button>
					<button class="btn btn-warning btn-sm mx-2" type="button"
						(click)="onAction(data, 'Appointment_Letter')"
						*ngIf="!view_only_profile && data.active_status == 1 && generate_appointment_letter">
						<i class="fa fa-file-text-o"></i> Appointment Letter
					</button>
					<button class="btn btn-danger btn-sm" type="button" (click)="onAction(data, 'Relieving_Letter')"
						*ngIf="!view_only_profile && data.relieving_date != null && generate_relieving_letter">
						<i class="fa fa-file-text-o"></i> Relieving Letter
					</button>
				</li>
			</ul>
		</div>
	</header>
</div>
<br>
<div class="row">
	<div class="col-md-12 p-0">
		<mat-tab-group #tabGroup (selectedTabChange)="onTabChange($event)">
			<mat-tab label="Profile" *ngIf="view_only_profile || login_id == id || role_id == 1 || role_id == 3">
				<div class="card">
					<div class="card-body bio-graph-info">
						<div class="row">
							<div class="col-md-6">
								<h1>Personal Details</h1>
								<div class="row bio-row">
									<div class="col-sm-6">Full Name : </div>
									<div class="col-sm-6">{{data.full_name}}</div>
								</div>
								<div class="row bio-row">
									<div class="col-sm-6">Email : </div>
									<div class="col-sm-6">{{data.email}}</div>
								</div>
								<div class="row bio-row">
									<div class="col-sm-6">Mobile : </div>
									<div class="col-sm-6">{{data.mobile}} / {{data.alter_mobile}}</div>
								</div>
								<div class="row bio-row">
									<div class="col-sm-6">Date of Bith : </div>
									<div class="col-sm-6">{{data.dob | date:'dd-MMM-yyyy'}}</div>
								</div>
								<div class="row bio-row">
									<div class="col-sm-6">Maritial Status : </div>
									<div class="col-sm-6">{{getMaritalStatus(data.marital_status)}}</div>
								</div>
								<div class="row bio-row" *ngIf="data.doa != null">
									<div class="col-sm-6">Date of Anniversary : </div>
									<div class="col-sm-6">{{data.doa | date:'dd-MMM-yyyy'}}</div>
								</div>
								<div class="row bio-row">
									<div class="col-sm-6">Qualification : </div>
									<div class="col-sm-6">{{data.qualification}}</div>
								</div>
								<div class="row bio-row">
									<div class="col-sm-6">PAN No. : </div>
									<div class="col-sm-6">{{data.pan_no}}</div>
								</div>
								<div class="row bio-row">
									<div class="col-sm-6">UAN No. : </div>
									<div class="col-sm-6">{{data.uan_no}}</div>
								</div>
								<div class="row bio-row">
									<div class="col-sm-6">Local Address : </div>
									<div class="col-sm-6">{{data.local_address}}</div>
								</div>
								<div class="row bio-row">
									<div class="col-sm-6">Permanant Address : </div>
									<div class="col-sm-6">{{data.permanant_address}}</div>
								</div>
								<hr>
								<h1>Bank Details</h1>
								<div class="row bio-row">
									<div class="col-sm-6">Bank Name : </div>
									<div class="col-sm-6">{{data.bank_name}}</div>
								</div>
								<div class="row bio-row">
									<div class="col-sm-6">Branch : </div>
									<div class="col-sm-6">{{data.bank_branch_name}}</div>
								</div>
								<div class="row bio-row">
									<div class="col-sm-6">Account Number : </div>
									<div class="col-sm-6">{{data.bank_account_no}}</div>
								</div>
								<div class="row bio-row">
									<div class="col-sm-6">IFSC Code : </div>
									<div class="col-sm-6">{{data.ifsc_code}}</div>
								</div>
							</div>
							<div class="col-md-6 left-border">
								<h1>Job Info</h1>
								<div class="row bio-row">
									<div class="col-sm-6">Job Profile : </div>
									<div class="col-sm-6">{{data.job_profile}}</div>
								</div>
								<div class="row bio-row">
									<div class="col-sm-6">Department : </div>
									<div class="col-sm-6">{{data.department}}</div>
								</div>
								<div class="row bio-row">
									<div class="col-sm-6">Date of Appointment : </div>
									<div class="col-sm-6">{{data.appointment_date | date:'dd-MMM-yyyy'}}</div>
								</div>
								<div class="row bio-row">
									<div class="col-sm-6">Date of Relieving : {{data.relieving_date |
										date:'dd-MMM-yyyy'}}</div>
									<div class="col-sm-6">
										<div class="input-group custom-date-input">
											<input *ngIf="data.relieving_date == null && (role_id == 1 || role_id == 3)"
												type="text" class="form-control" [(ngModel)]="relieving_date"
												(ngModelChange)="onAction(null, 'Update_Relieving_Date')"
												[bsConfig]="datePickerConfig" #dp="bsDatepicker" bsDatepicker
												placeholder="Select Date" readonly>
											<span class="mr-2" *ngIf="data.relieving_date != null">
												{{data.relieving_date | date:'dd-MMM-yyyy'}}
											</span>
											<div class="input-group-append"
												*ngIf="data.relieving_date != null && (role_id == 1 || role_id == 3)">
												<span class="input-group-text text-danger" mwlConfirmationPopover
													[popoverTitle]="popoverTitle2" [popoverMessage]="popoverMessage2"
													[confirmText]="confirmText" [cancelText]="cancelText"
													[placement]="placement" [closeOnOutsideClick]="closeOnOutsideClick"
													confirmButtonType="success" cancelButtonType="danger"
													(confirm)="onAction(item, 'Remove_Relieving_Date')"
													(cancel)="cancelClicked = true">
													<i class="fa fa-remove text-danger"></i>
												</span>
											</div>
										</div>
									</div>
								</div>
								<div class="row bio-row">
									<div class="col-sm-6">Total Working Days : </div>
									<div class="col-sm-6">{{data.total_working_days}}</div>
								</div>
								<div class="row bio-row">
									<div class="col-sm-6">Role : </div>
									<div class="col-sm-6">{{data.role}}</div>
								</div>
								<div class="row bio-row">
									<div class="col-sm-6">Type : </div>
									<div class="col-sm-6">{{data.employee_type}}</div>
								</div>
								<div class="row bio-row">
									<div class="col-sm-6">Extension : </div>
									<div class="col-sm-6">{{data.telephone_extension}}</div>
								</div>
								<div class="row bio-row">
									<div class="col-sm-6">Punching ID : </div>
									<div class="col-sm-6">{{data.machine_id}}</div>
								</div>
								<hr>
								<h1>Documents</h1>
								<table class="table table-bordered">
									<thead>
										<tr>
											<th class="text-center" width="1%"><i class="fa fa-file"></i></th>
											<th>Document</th>
										</tr>
									</thead>
									<tbody>
										<tr *ngFor="let item of employee_docs; let i = index">
											<td class="text-center">{{i+1}}</td>
											<td>
												<a href="{{item.document}}" target="_blank"
													class="btn btn-primary">{{item.document_type}}</a>
											</td>
										</tr>
									</tbody>
								</table>
							</div>
						</div>
					</div>
				</div>
			</mat-tab>
			<mat-tab label="Attendance" *ngIf="!view_only_profile">
				<div class="card">
					<div class="card-body bio-graph-info">
						<h1>Attendance</h1>
						<div class="row">
							<div class="col-md-6 text-center">
								<span class="btn btn-pill btn-success mb-2">
									Total Present - {{empMonthStatus.present_with_holidays}}
								</span>
								<span class="btn btn-pill btn-danger mb-2 mx-2">
									Total Leaves - {{empMonthStatus.total_leaves}}
								</span>
								<span class="btn btn-pill btn-primary mb-2">
									Balance Leave - {{empMonthStatus.balance_leaves}}
								</span>
							</div>
							<div class="col-md-6 text-center">
								<span class="btn btn-pill btn-success mb-2">
									On Time - {{empMonthStatus.only_present}}
								</span>
								<span class="btn btn-pill btn-warning mb-2 mx-2">
									Late - {{empMonthStatus.total_late}} &nbsp; | &nbsp; Early -
									{{empMonthStatus.total_early}}
								</span>
								<span class="btn btn-pill btn-secondary mb-2">
									Half-Day - {{empMonthStatus.half_day}}
								</span>
								<span class="btn btn-pill btn-primary mb-2 mx-2">
									WFH - {{empMonthStatus.official_leave}}
								</span>
								<span class="btn btn-pill btn-danger mb-2">
									Saturday - {{empMonthStatus.total_weekoff}} &nbsp; | &nbsp; Sunday -
									{{empMonthStatus.sundays}}
								</span>
								<span class="btn btn-pill btn-dark mb-2 ml-2">
									Holidays - {{empMonthStatus.holidays}}
								</span>
							</div>
						</div>
						<hr>
						<div class="row">
							<div class="col-md-12">
								<div class="row text-center">
									<div class="col-md-4">
										<div class="btn-group">
											<div class="btn btn-primary" mwlCalendarPreviousView [view]="view"
												[(viewDate)]="viewDate"
												(viewDateChange)="getEmployeeAttendance($event)">
												Previous
											</div>
											<div class="btn btn-outline-secondary" mwlCalendarToday
												[(viewDate)]="viewDate"
												(viewDateChange)="getEmployeeAttendance($event)">
												Current
											</div>
											<div class="btn btn-primary" mwlCalendarNextView [view]="view"
												[(viewDate)]="viewDate"
												(viewDateChange)="getEmployeeAttendance($event)">
												Next
											</div>
										</div>
									</div>
									<div class="col-md-4">
										<h3>{{ viewDate | calendarDate:(view + 'ViewTitle'):'en' }}</h3>
									</div>
									<div class="col-md-4">
										<button *ngIf="enableDownloadSalarySlip" type="button"
											class="btn btn-success mb-2" (click)="onAction(null, 'Salary_Slip')"><i
												class="fa fa-download"></i> Download Salary Slip</button>
									</div>
								</div>
								<hr>
								<ng-template #monthCellTemplate let-day="day" let-openDay="openDay" let-locale="locale"
									let-tooltipPlacement="tooltipPlacement" let-highlightDay="highlightDay"
									let-unhighlightDay="unhighlightDay" let-eventClicked="eventClicked">
									<div class="fill-height" [ngClass]="{'bg-sunday': (day.day == 0)}">
										<div class="cal-cell-top">
											<span *ngIf="day.events.length > 0 && day.events[0].is_holiday">
												<img [src]="day.events[0].holiday_icon"
													class="img-responsive holiday-icon">
											</span>
											<span *ngIf="day.events.length > 0 && day.events[0].is_saturday_off">
												<img [src]="day.events[0].saturday_icon"
													class="img-responsive saturday-icon">
											</span>
											<span *ngIf="day.events.length > 0 && day.events[0].is_leave">
												<img [src]="day.events[0].leave_icon" class="img-responsive leave-icon">
											</span>
											<span
												*ngIf="day.events.length > 0 && day.events[0].is_attendance && !day.events[0].is_wfh">
												<img [src]="day.events[0].attendance_icon"
													class="img-responsive attendance-icon">
											</span>
											<span
												*ngIf="day.events.length > 0 && day.events[0].is_attendance && day.events[0].is_wfh">
												<img [src]="day.events[0].attendance_icon"
													class="img-responsive wfh-icon">
											</span>
											<span *ngIf="day.events.length > 0 && day.events[0].is_maternity_leave">
												<img [src]="day.events[0].maternity_leave_icon"
													class="img-responsive leave-icon">
											</span>
											<span class="cal-day-number cal-day"
												[ngClass]="{'sun-day': (day.day == 0)}">
												{{ day.date | calendarDate:'monthViewDayNumber':locale }}
											</span>
											<div>
												<span *ngIf="day.events.length > 0 && day.events[0].time_in != null"
													[ngStyle]="{'background-color': day.events[0].time_color.primary, 'font-weight': 400}"
													class="cal-day-badge p-2">
													{{day.events[0].time_in}}
												</span>
												<span *ngIf="day.events.length > 0 && day.events[0].time_out != null"
													[ngStyle]="{'background-color': day.events[0].time_color.primary, 'font-weight': 400, 'margin-bottom': '10px'}"
													class="cal-day-badge p-2">
													{{day.events[0].time_out}}
												</span>
												<!-- <span *ngIf="day.events.length > 0 && day.events[0].time_out != null"
													[ngStyle]="{'background-color': day.events[0].time_color.primary, 'font-weight': 400}"
													class="cal-day-badge p-2">
													{{day.events[0].working_hours}}
												</span>
												<span
													*ngIf="day.events.length > 0 && day.events[0].late_minutes != null"
													[ngStyle]="{'background-color': day.events[0].time_color.absent, 'font-weight': 400, 'margin-bottom': '10px'}"
													class="cal-day-badge p-2">
													{{day.events[0].late_minutes}}
												</span> -->
												<span *ngIf="day.events.length > 0 && day.events[0].is_holiday"
													[ngStyle]="{'background-color': day.events[0].color.primary, 'font-weight': 400, 'margin-bottom': '10px'}"
													class="cal-day-badge p-2">
													{{day.events[0].title}}
												</span>
												<span *ngIf="day.events.length > 0 && day.events[0].is_leave"
													[ngStyle]="{'background-color': day.events[0].color.primary, 'font-weight': 400, 'margin-bottom': '10px'}"
													class="cal-day-badge p-2">
													{{day.events[0].title}}
												</span>
												<span *ngIf="day.events.length > 0 && day.events[0].is_saturday_off"
													[ngStyle]="{'background-color': day.events[0].color.primary, 'font-weight': 400, 'margin-bottom': '10px'}"
													class="cal-day-badge p-2">
													{{day.events[0].title}}
												</span>
											</div>
										</div>
									</div>
								</ng-template>
								<mwl-calendar-month-view #attendanceCalendar [viewDate]="viewDate" [events]="events"
									[refresh]="refresh" (dayClicked)="onAction($event.day, 'Attendance_Date')"
									[cellTemplate]="monthCellTemplate">
								</mwl-calendar-month-view>
							</div>
						</div>
					</div>
				</div>
			</mat-tab>
			<mat-tab label="Leaves" *ngIf="!view_only_profile">
				<div class="card">
					<div class="card-body bio-graph-info">
						<div class="row">
							<div class="col-md-6">
								<h1>Leaves</h1>
							</div>
							<div class="col-md-6 text-right">
								<button class="btn btn-primary" (click)="onAction(null, 'Add_Leave')"
									*ngIf="data.active_status == 1">
									<i class="fa fa-plus"></i> Apply for Leave
								</button>
							</div>
						</div>
						<div class="row">
							<div class="col-md-12">
								<p-table #dt1 dataKey="id" styleClass="ui-table-leaves" [value]="leaves_data"
									[rows]="10" [showCurrentPageReport]="true" [rowsPerPageOptions]="[10,25,50,100]"
									[loading]="isLoading" [autoLayout]="true" [paginator]="true" [columns]="leaves_cols"
									currentPageReportTemplate="Showing &#123;currentPage&#125; of &#123;totalPages&#125; entries">
									<ng-template pTemplate="header" let-columns>
										<tr>
											<th pSortableColumn="{{col.field}}" *ngFor="let col of columns">
												{{col.header}} <p-sortIcon field="{{col.field}}">
												</p-sortIcon>
											</th>
											<th class="text-center">Action</th>
										</tr>
									</ng-template>
									<ng-template pTemplate="body" let-item>
										<tr class="ui-selectable-row">
											<td>{{ item.id }}</td>
											<td>{{ item.from_date | date: 'dd-MMM-yyyy' }}</td>
											<td>{{ item.to_date | date: 'dd-MMM-yyyy' }}</td>
											<td>{{ item.total_days }}</td>
											<td>{{ getLeaveCategory(item.leave_category) }}</td>
											<td>{{ getLeaveType(item.leave_type) }}</td>
											<td>{{ item.reason }}</td>
											<td *ngIf="item.status == 1">
												<span class="btn btn-pill btn-sm btn-warning">Pending</span>
											</td>
											<td *ngIf="item.status == 2">
												<span class="btn btn-pill btn-sm btn-success">Approved</span>
											</td>
											<td *ngIf="item.status == 3">
												<span class="btn btn-pill btn-sm btn-danger">Rejected</span>
											</td>
											<td *ngIf="item.status == 4">
												<span class="btn btn-pill btn-sm btn-secondary">Canceled</span>
											</td>
											<td class="text-center">
												<button *ngIf="item.status == 1"
													class="btn btn-primary btn-sm mr-1 mb-2"
													(click)="onAction(item, 'Edit_Leave')">
													<i class="fa fa-pencil"></i>
												</button>
												<button *ngIf="item.status == 1" class="btn btn-danger btn-sm ml-1 mb-2"
													mwlConfirmationPopover [popoverTitle]="popoverTitle2"
													[popoverMessage]="popoverMessage2" [confirmText]="confirmText"
													[cancelText]="cancelText" [placement]="placement"
													[closeOnOutsideClick]="closeOnOutsideClick"
													confirmButtonType="success" cancelButtonType="danger"
													(confirm)="onAction(item, 'Delete_Leave')"
													(cancel)="cancelClicked = true">
													<i class="fa fa-trash text-white"></i>
												</button>
											</td>
										</tr>
									</ng-template>
									<ng-template pTemplate="emptymessage">
										<tr>
											<td [attr.colspan]="leaves_cols.length + 1" class="text-center">No Data
												found.
											</td>
										</tr>
									</ng-template>
								</p-table>
							</div>
						</div>
					</div>
				</div>
			</mat-tab>
			<mat-tab label="Salary Details" *ngIf="!view_only_profile">
				<div class="card">
					<div class="card-body bio-graph-info">
						<div class="row">
							<div class="col-md-3">
								<ng-select [(ngModel)]="selected_financial_year" bindLabel="financial_year"
									bindValue="financial_year" [items]="financial_year_list" [clearable]="false"
									[searchable]="false" (change)="getAnnualCTC();">
								</ng-select>
							</div>
							<div class="col-md-9 text-right">
								<!-- <button class="btn btn-primary" (click)="onAction(null, 'Add_CTC')"
									*ngIf="add_yearly_ctc && data.active_status == 1">
									<i class="fa fa-plus"></i> Add New
								</button> -->
							</div>
						</div>
						<br>
						<div class="row">
							<div class="col-md-12">
								<h1 class="mb-2">Annual CTC</h1>
								<p-table #dt2 dataKey="id" [value]="annual_ctc_data" [loading]="isLoading"
									[autoLayout]="true" [columns]="annual_ctc_cols">
									<ng-template pTemplate="header" let-columns>
										<tr>
											<th *ngFor="let col of columns">
												{{col.header}}
											</th>
											<th class="text-center">Action</th>
										</tr>
									</ng-template>
									<ng-template pTemplate="body" let-item>
										<tr class="ui-selectable-row">
											<td>{{ item.financial_year }}</td>
											<td>{{ item.annual_ctc | currency:'INR' }}</td>
											<td>{{ item.basic | currency:'INR' }}</td>
											<td>{{ item.da | currency:'INR' }}</td>
											<td>{{ item.hra | currency:'INR' }}</td>
											<td>{{ item.lta | currency:'INR' }}</td>
											<td>{{ item.child_edu_allowance | currency:'INR' }}</td>
											<td>{{ item.special_allowance | currency:'INR' }}</td>
											<td>{{ item.employee_pf | currency:'INR' }}</td>
											<td>{{ item.employer_pf | currency:'INR' }}</td>
											<td>{{ (item.feb_pt + item.other_pt) | currency:'INR' }}</td>
											<td>{{ item.bonus | currency:'INR' }}</td>
											<td>{{ item.incentive | currency:'INR' }}</td>
											<td class="text-center">
												<button class="btn btn-danger btn-sm mb-2"
													(click)="onAction(item, 'Salary_Break_Up')">
													<i class="fa fa-file-pdf-o"></i>
												</button>
												<!-- <button *ngIf="edit_yearly_ctc" class="btn btn-primary btn-sm mb-2"
													(click)="onAction(item, 'Edit_CTC')">
													<i class="fa fa-pencil"></i>
												</button>
												<button *ngIf="delete_yearly_ctc" class="btn ml-2 btn-danger btn-sm"
													mwlConfirmationPopover [popoverTitle]="popoverTitle2"
													[popoverMessage]="popoverMessage2" [confirmText]="confirmText"
													[cancelText]="cancelText" [placement]="placement"
													[closeOnOutsideClick]="closeOnOutsideClick"
													confirmButtonType="success" cancelButtonType="danger"
													(confirm)="onAction(item, 'Delete_CTC')"
													(cancel)="cancelClicked = true">
													<i class="fa fa-remove"></i>
												</button> -->
											</td>
										</tr>
									</ng-template>
									<ng-template pTemplate="emptymessage">
										<tr>
											<td [attr.colspan]="annual_ctc_cols.length + 1" class="text-center">No
												Data
												found.
											</td>
										</tr>
									</ng-template>
								</p-table>
							</div>
						</div>
						<hr>
						<div class="row">
							<div class="col-md-12">
								<h1 class="mb-2">Monthly Salary</h1>
								<p-table #dt3 dataKey="id" styleClass="ui-table-salary" [value]="monthly_ctc_data"
									[rows]="12" [loading]="isLoading" [autoLayout]="true" [columns]="monthly_ctc_cols">
									<ng-template pTemplate="header" let-columns>
										<tr>
											<th *ngFor="let col of columns">
												{{col.header}}
											</th>
											<th class="text-center">Action</th>
										</tr>
									</ng-template>
									<ng-template pTemplate="body" let-item>
										<tr class="ui-selectable-row" [ngClass]="item.status == 1 && item.is_calculated == 1 ? 'rowback': ''">
											<td>{{item.month_name}} {{item.year}}</td>
											<td>{{ item.net_salary | currency:'INR' }}</td>
											<td>{{ item.basic | currency:'INR' }}</td>
											<td>{{ item.da | currency:'INR' }}</td>
											<td>{{ item.hra | currency:'INR' }}</td>
											<td>{{ item.lta | currency:'INR' }}</td>
											<td>{{ item.child_edu_allowance | currency:'INR' }}</td>
											<td>{{ item.special_allowance | currency:'INR' }}</td>
											<td>{{ item.arrear_plus | currency:'INR' }}</td>
											<td>{{ item.arrear_deduction | currency:'INR' }}</td>
											<td>{{ item.gross_salary | currency:'INR' }}</td>
											<td>{{ item.net_salary | currency:'INR' }}</td>
											<td>{{ item.employee_pf | currency:'INR' }}</td>
											<td>{{ item.employer_pf | currency:'INR' }}</td>
											<td>{{ item.pt | currency:'INR' }}</td>
											<td>{{ item.tds | currency:'INR' }}</td>
											<td>{{ item.bonus | currency:'INR' }}</td>
											<td>{{ item.incentive | currency:'INR' }}</td>
											<td>{{ item.performance_bonus | currency:'INR' }}</td>
											<td class="text-center">
												<button class="btn btn-dark btn-sm mb-2">
													<i class="fa fa-eye"></i>
												</button>
											</td>
										</tr>
									</ng-template>
									<ng-template pTemplate="emptymessage">
										<tr>
											<td [attr.colspan]="monthly_ctc_cols.length + 1" class="text-center">No
												Data found.
											</td>
										</tr>
									</ng-template>
								</p-table>
							</div>
						</div>
					</div>
				</div>
			</mat-tab>
			<mat-tab label="Investments" *ngIf="!view_only_profile">
				<div class="card">
					<div class="card-body bio-graph-info">
						<h1>Investments</h1>
						<div class="row">
							<div class="col-md-2 col-sm-12 col-xs-12">
								<div class="nav flex-column nav-pills">
									<a class="btn btn-outline-primary active rounded-0 mb-2"
										(click)="onActionInvestment('Instructions', 'Instructions')">
										Instructions
									</a>
									<a class="btn btn-outline-dark active rounded-0 mb-2"
										(click)="onActionInvestment('Calculator', 'Calculator')">
										TDS Calculator
									</a>
									<a *ngIf="login_id == id" class="btn btn-outline-warning active rounded-0 mb-2"
										(click)="onActionInvestment('Form16', 'Form16')">
										Form-16
									</a>
									<ng-select *ngIf="financialYearList.length > 1 && data.active_status == 1"
										[(ngModel)]="selectedFinancialYear" bindLabel="financial_year"
										bindValue="financial_year" [items]="financialYearList" [clearable]="false"
										[searchable]="false"
										(change)="onActionInvestment($event.financial_year, 'Financial_Year');">
									</ng-select>
								</div>
							</div>
							<div class="col-md-10 col-sm-12 col-xs-12">
								<div class="row"
									*ngIf="active_investment_tab != null && active_investment_tab != 'Instructions' && active_investment_tab != 'Calculator' && active_investment_tab != 'Form16'">
									<div class="col-md-6">
										<h3>{{active_investment_tab}}</h3>
									</div>
									<div class="col-md-6 text-right"
										*ngIf="active_investment_tab != null && !activeInvestment">
										<h6 *ngIf="enableBudget || enableActual">
											Total Budget Investment: {{total_annual_investment_budget | currency:'INR'}}
										</h6>
										<h6 *ngIf="enableActual">
											Total Actual Investment: {{total_annual_investment_actual | currency:'INR'}}
										</h6>
									</div>
									<div class="col-md-6 text-right"
										*ngIf="active_investment_tab == null && !activeInvestment">
										<h6>
											Total Budget Investment: {{total_annual_investment_budget | currency:'INR'}}
										</h6>
										<h6>
											Total Actual Investment: {{total_annual_investment_actual | currency:'INR'}}
										</h6>
									</div>
								</div>
								<div class="tab-content p-3">
									<div *ngIf="active_investment_tab == 'Instructions'">
										<h3 class="text-center">
											SAVING QUALIFYING FOR DEDUCTION UNDER PROVISIONS OF INCOME TAX ACT 1961
										</h3>
										<p class="font-italic">
											<u>
												Please read carefully guideline give below before filling up this form
												as incomplete / Incorrect forms will get rejected.
											</u>
										</p>
										<strong>
											<u>Declaration:</u>
										</strong>
										<ol>
											<li>
												If documents submitted by me are not genuine & not valid as per Income
												Tax Act, then I do not have any objection if co. deduct heavy TDS in any
												of the month.
											</li>
											<li>
												I hereby declare that the particulars given are true and correct to the
												best of my knowledge and belief. I confirm that I have all the original
												documents in support of the declaration and I shall produce the same
												anytime on demand.
											</li>
											<li>
												I confirm that the Housing Loan principal and interest repayment amount
												declared by me is towards the loan taken for the house occupied by me. I
												further confirm that Completion Certificate for same is available with
												me.
											</li>
											<li>
												I undertake &amp; agree with M/s. SUSHILA PARMAR INTERNATIONAL PVT. LTD.
												to deduct applicable TDS as per Income Tax Act in absence of valid
												supporting documents.
											</li>
										</ol>
										<strong>
											<u>Guidelines for filling up the form:</u>
										</strong>
										<ul>
											<li>
												Attach Xerox copies of all relevant documents to this Declaration, Do
												not attach any original documents.
											</li>
											<li>
												For declaration of housing loan and interest, please attach Completion
												Certificate issued by Corporation / Panchayat / Municipal Tax receipt /
												Possession Letter and Certificate issued by lending institution like
												HDFC / ICICI / IDBI Banks/or any other Fin Institute.
											</li>
											<li>
												<strong>Note: </strong> In absence of valid supporting Declaration will
												not be accepted & applicable TDS will be deducted till the receipt of
												valid supporting.
											</li>
											<li>In case LIC or any other premiums for which frequency is
												monthly/quarterly/yearly, you can provide the same whenever payment
												done, but for this initially you can provide the test year's statement
												giving written instruction that the same investment amount will be
												continued for current FY also.
											</li>
										</ul>
									</div>
									<div *ngIf="active_investment_tab == 'Calculator'">
										<h4 class="text-center">TDS CALCULATOR</h4>
										<br>
										<form [formGroup]="tdsCalculatorForm" novalidate class="needs-validation">
											<div class="row">
												<div class="col-md-4">
													<div class="form-group">
														<label for="annual_ctc">Annual CTC</label>
														<input type="text" id="annual_ctc" formControlName="annual_ctc"
															class="form-control" placeholder="Annual CTC" readonly>
													</div>
												</div>
												<div class="col-md-4">
													<div class="form-group">
														<label for="bonus">Bonus</label>
														<input type="text" id="bonus" formControlName="bonus"
															class="form-control" placeholder="Bonus" readonly>
													</div>
												</div>
												<div class="col-md-4">
													<div class="form-group">
														<label for="incentive">Incentive</label>
														<input type="text" id="incentive" formControlName="incentive"
															class="form-control" placeholder="Incentive"
															(change)="calculateTDS($event.target.value, 'Incentive')"
															numbersOnly>
													</div>
												</div>
												<div class="col-md-4">
													<div class="form-group">
														<label for="income_other_source">Income From Other
															Source</label>
														<input type="text" id="income_other_source"
															formControlName="income_other_source" class="form-control"
															placeholder="Income From Other Source"
															(change)="calculateTDS($event.target.value, 'Other_Income')"
															numbersOnly>
													</div>
												</div>
												<div class="col-md-4">
													<div class="form-group">
														<label for="standard_deduction">Standard Deduction</label>
														<input type="text" id="standard_deduction"
															formControlName="standard_deduction" class="form-control"
															placeholder="Standard Deduction" readonly>
													</div>
												</div>
												<div class="col-md-4">
													<div class="form-group">
														<label for="hra">HRA (Actual Rent)</label>
														<input type="text" id="hra" formControlName="hra"
															class="form-control" placeholder="HRA"
															(change)="calculateTDS($event.target.value, 'Actual_Rent')"
															numbersOnly>
													</div>
												</div>
											</div>
											<div class="row">
												<div class="col-md-6">
													<div class="form-group">
														<label for="section_80c">
															<strong>Deductions Under Section 80C</strong>
															<br>
															<span class="font-italic text-dark">e.g. PPF, LIC, FD, Home
																Loan, Education Loan, Mutual Funds, etc.</span>
														</label>
														<input type="text" id="section_80c"
															formControlName="section_80c" class="form-control"
															placeholder="Deductions Under Section 80C"
															(change)="calculateTDS($event.target.value, 'Section_80C')"
															numbersOnly>
													</div>
												</div>
												<div class="col-md-6">
													<div class="form-group">
														<label for="section_80ccd">
															<strong>Deductions Under Section 80CCD</strong>
															<br>
															<span class="font-italic text-dark">e.g. NPS</span>
														</label>
														<input type="text" id="section_80ccd"
															formControlName="section_80ccd" class="form-control"
															placeholder="Deductions Under Section 80CCD"
															(change)="calculateTDS($event.target.value, 'Section_80CCD')"
															numbersOnly>
													</div>
												</div>
												<div class="col-md-6">
													<div class="form-group">
														<label for="section_80d">
															<strong>Deductions Under Section 80D</strong>
															<br>
															<span class="font-italic text-dark">e.g. Medical Expenses,
																Health Insurance (Self/Parents)</span>
														</label>
														<input type="text" id="section_80d"
															formControlName="section_80d" class="form-control"
															placeholder="Deductions Under Section 80D"
															(change)="calculateTDS($event.target.value, 'Section_80D')"
															numbersOnly>
													</div>
												</div>
												<div class="col-md-6">
													<div class="form-group">
														<label for="section_80g">
															<strong>Deductions Under Section 80G</strong>
															<br>
															<span class="font-italic text-dark">e.g. Donations</span>
														</label>
														<input type="text" id="section_80g"
															formControlName="section_80g" class="form-control"
															placeholder="Deductions Under Section 80G"
															(change)="calculateTDS($event.target.value, 'Section_80G')"
															numbersOnly>
													</div>
												</div>
											</div>
											<div class="row">
												<div class="col-md-4">
													<div class="form-group">
														<label for="section_others">Any Other Investment</label>
														<input type="text" id="section_others"
															formControlName="section_others" class="form-control"
															placeholder="Any Other Investment"
															(change)="calculateTDS($event.target.value, 'Section_Others')"
															numbersOnly>
													</div>
												</div>
												<div class="col-md-4">
													<div class="form-group">
														<label for="annual_tds">Annual TDS</label>
														<input type="text" id="annual_tds" formControlName="annual_tds"
															class="form-control" placeholder="Annual TDS" readonly>
													</div>
												</div>
												<div class="col-md-4">
													<div class="form-group">
														<label for="monthly_tds">Monthly TDS (11 Months)</label>
														<input type="text" id="monthly_tds"
															formControlName="monthly_tds" class="form-control"
															placeholder="Monthly TDS" readonly>
													</div>
												</div>
											</div>
										</form>
									</div>
									<div *ngIf="active_investment_tab == 'Form16'">
										<h4 class="text-center">Form-16</h4>
										<table class="table table-bordered">
											<thead>
												<tr>
													<th class="text-center">Sr.No.</th>
													<th>Financial Year</th>
													<th class="text-center">Action</th>
												</tr>
											</thead>
											<tbody>
												<tr *ngFor="let rowData of empForm16List; index as i;">
													<td class="text-center">{{i + 1}}</td>
													<td>{{rowData.financial_year}}</td>
													<td class="text-center">
														<div
															*ngIf="rowData.form_16_arr != null && rowData.form_16_arr.length > 0">
															<a *ngFor="let item of rowData.form_16_arr"
																class="btn btn-outline-success btn-sm action-btn mr-2 mb-2"
																href="{{item}}" target="_blank">
																<i class="fa fa-download"></i>
															</a>
														</div>
													</td>
												</tr>
											</tbody>
										</table>
									</div>
									<div
										*ngIf="active_investment_tab != null && active_investment_tab != 'Instructions' && active_investment_tab != 'Calculator' && active_investment_tab != 'Form16' && !activeInvestment">
										<div *ngFor="let element of income_tax_sections;" class="">
											<table class="table table-bordered investment-table"
												*ngIf="investmentTypeList">
												<thead>
													<tr class="text-primary tr-head">
														<th width="5%" class="text-center">Sr.No.</th>
														<th width="45%" class="text-left">Section {{element.section}}
														</th>
														<th width="15%" class="text-right">{{element.budget_total |
															currency:'INR'}}</th>
														<th width="15%" class="text-right">{{element.actual_total |
															currency:'INR'}}</th>
														<th width="20%"></th>
													</tr>
													<tr>
														<th width="5%" class="text-center">Sr.No.</th>
														<th width="45%" class="text-left">Description</th>
														<th width="15%" class="text-right">Budget Amount</th>
														<th width="15%" class="text-right">Actual Amount</th>
														<th width="20%" class="text-center">Attachment</th>
													</tr>
												</thead>
												<tbody>
													<tr *ngFor="let item of investmentTypeList; let i = index;">
														<td *ngIf="item.section == element.section" class="text-center">
															{{i+1}}
														</td>
														<td *ngIf="item.section == element.section">
															{{item.description}}
														</td>
														<td *ngIf="item.section == element.section" class="text-right">
															{{item.budget_amount | currency:'INR'}}
														</td>
														<td *ngIf="item.section == element.section" class="text-right">
															{{item.actual_amount | currency:'INR'}}
														</td>
														<td *ngIf="item.section == element.section" class="text-center">
															<a *ngIf="item.budget_attachment != null"
																class="btn btn-outline-success btn-sm action-btn mb-1 mr-1"
																data-toggle="tooltip" data-placement="top"
																title="Budget Attachment"
																[href]="item.budget_attachment" target="_blank"
																download>
																<i class="fa fa-download"></i>
															</a>
															<a *ngIf="item.actual_attachment != null"
																class="btn btn-outline-success btn-sm action-btn mb-1"
																data-toggle="tooltip" data-placement="top"
																title="Actual Attachment"
																[href]="item.actual_attachment" target="_blank"
																download>
																<i class="fa fa-download"></i>
															</a>
														</td>
													</tr>
												</tbody>
											</table>
										</div>
									</div>
									<div *ngIf="active_investment_tab != null && activeInvestment">
										<form [formGroup]="investmentFormNew" (ngSubmit)="onSubmitInvestmentForm()"
											novalidate autocomplete="off">
											<div *ngFor="let element of income_tax_sections;" class="">
												<table class="table table-bordered investment-table-form"
													*ngIf="investmentTypeList">
													<thead>
														<tr class="text-primary tr-head">
															<th width="5%" class="text-center">Sr.No.</th>
															<th width="45%" class="text-left">Section
																{{element.section}}
															</th>
															<th width="15%" class="text-right" *ngIf="enableBudget">
																{{element.budget_total |
																currency:'INR'}}</th>
															<th width="15%" class="text-right" *ngIf="enableActual">
																{{element.actual_total |
																currency:'INR'}}</th>
															<th width="20%"></th>
														</tr>
														<tr>
															<th width="5%">Sr. No.</th>
															<th width="40%">Description</th>
															<th width="15%" *ngIf="enableBudget">Budget Amount</th>
															<th width="15%" *ngIf="enableActual">Actual Amount</th>
															<th width="25%">Attachment</th>
														</tr>
													</thead>
													<tbody>
														<tr *ngFor="let item of c.controls; let i = index"
															[attr.data-index]="i" [attr.id]="item.id"
															[formGroup]="item">
															<td *ngIf="item.value.section == element.section">
																{{item.value.investment_type_id}}
															</td>
															<td *ngIf="item.value.section == element.section">
																{{item.value.description}}
																<br *ngIf="item.value.budget_attachment_copy != null || 
																	item.value.actual_attachment_copy != null">
																<a *ngIf="item.value.budget_attachment_copy != null"
																	class="btn btn-outline-success btn-sm action-btn"
																	data-toggle="tooltip" data-placement="top"
																	title="Budget Attachment"
																	[href]="item.value.budget_attachment_copy"
																	target="_blank" download>
																	<i class="fa fa-download"></i>
																</a>
																<a *ngIf="item.value.actual_attachment_copy != null"
																	class="btn btn-outline-success btn-sm action-btn"
																	data-toggle="tooltip" data-placement="top"
																	title="Actual Attachment"
																	[href]="item.value.actual_attachment_copy"
																	target="_blank" download>
																	<i class="fa fa-download"></i>
																</a>
															</td>
															<td
																*ngIf="item.value.section == element.section && enableBudget">
																<input type="text"
																	class="form-control investment-form-control"
																	formControlName="budget_amount"
																	placeholder="Enter Budget Amount"
																	(change)="onChangeInvestmentAmount($event.target.value, 'Budget', item.value)"
																	numbersOnly
																	[readOnly]="item.value.investment_type_id == 2 || item.value.budget_status || !editable">
															</td>
															<td
																*ngIf="item.value.section == element.section && enableActual">
																<input type="text"
																	class="form-control investment-form-control"
																	formControlName="actual_amount"
																	placeholder="Enter Actual Amount"
																	(change)="onChangeInvestmentAmount($event.target.value, 'Actual', item.value)"
																	numbersOnly
																	[readOnly]="item.value.investment_type_id == 2 || item.value.actual_status || !editable">
															</td>
															<td *ngIf="item.value.section == element.section">
																<input
																	*ngIf="enableBudget && item.value.budget_docs == 1 && editable && !item.value.budget_status"
																	type="file"
																	class="form-control investment-form-control custom-file-input"
																	formControlName="budget_attachment"
																	placeholder="Upload Budget Attachment"
																	(change)="onFileChange($event, 'Budget', item.value)">
																<input
																	*ngIf="enableActual && item.value.actual_docs == 1 && editable && !item.value.actual_status"
																	type="file"
																	class="form-control investment-form-control custom-file-input"
																	formControlName="actual_attachment"
																	placeholder="Upload Actual Attachments"
																	(change)="onFileChange($event, 'Actual', item.value)">
															</td>
														</tr>
													</tbody>
												</table>
											</div>
											<button type="submit" class="btn btn-primary"
												[disabled]="!enableInvestmentSubmit">Submit</button>
										</form>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</mat-tab>
			<mat-tab label="Expense Details" *ngIf="!view_only_profile">
				<div class="card">
					<div class="card-body bio-graph-info">
						<h1>Expense Details</h1>
						<div class="row">
							<div class="col-md-3" *ngIf="data.active_status == 1">
								<div class="card">
									<div class="card-header">
										<i class="icon-list"></i> Add Expenses
									</div>
									<div class="card-body">
										<form [formGroup]="addExpenseForm" novalidate (ngSubmit)="onExpenseSubmit()"
											class="needs-validation">
											<div class="col-md-12 p-0">
												<div class="form-group">
													<label for="expense_date" class="col-form-label"><b>Expense
															Date</b></label>
													<input type="text" id="expense_date" formControlName="expense_date"
														class="form-control"
														[bsConfig]="{ dateInputFormat: 'YYYY-MM-DD', containerClass: 'theme-blue' }"
														#dp="bsDatepicker" bsDatepicker readonly>
												</div>
												<div class="form-group">
													<label class="col-form-label" for="category_id"><b>Select
															Category</b></label>
													<ng-select id="category_id" formControlName="category_id"
														placeholder="Select Category" [searchable]="true"
														[clearable]="true" bindLabel="category" bindValue="id"
														[items]="category">
													</ng-select>
												</div>
												<div class="form-group">
													<label class="col-form-label" for="amount"><b>Amount</b></label>
													<i class="fa fa-inr"></i>
													<input class="form-control" id="amount" formControlName="amount"
														type="text" placeholder="Enter Amount" required autofocus>
												</div>
												<div class="form-group">
													<label class="col-form-label" for="service_provider"><b>Service
															Provider</b></label>
													<input class="form-control" id="service_provider"
														formControlName="service_provider" type="text"
														placeholder="Enter Service Provider" required autofocus>
												</div>
												<div class="form-group">
													<label for="description"><b>Description</b></label>
													<textarea formControlName="description" id="description" rows="2"
														class="form-control" placeholder="Enter Description"></textarea>
												</div>
												<div class="form-group">
													<label for="expense_copy"><b>Expense Copies</b></label>
													<input type="file" id="expense_copy" name="expense_copy"
														formControlName="expense_copy"
														(change)="fileChangeEvent($event)" multiple>
												</div>
												<div class="form-group">
													<button class="btn btn-primary mr-1" type="submit"
														[disabled]="addExpenseForm.pristine || addExpenseForm.invalid">Submit</button>
													<button class="btn btn-danger" type="reset"
														[disabled]="addExpenseForm.pristine"
														(click)="addExpenseForm.reset()">Reset</button>
												</div>
											</div>
										</form>
									</div>
								</div>
							</div>
							<div class="col-md-9">
								<div class="card">
									<div class="card-header">
										<i class="icon-list"></i> Expense List
									</div>
									<div class="card-body" *ngIf="expenseList.length">
										<div class="row mb-3">
											<div class="col-md-4 offset-md-8">
												<div class="input-group">
													<div class="input-group-prepend">
														<span class="input-group-text"><i
																class="fa fa-search"></i></span>
													</div>
													<input type="text" class="form-control" [(ngModel)]="filterQuery"
														placeholder="Search" />
												</div>
											</div>
										</div>
										<table class="table table-striped table-hover table-responsive-lg"
											[mfData]="expenseList | tableFilter : filterQuery:filterArray"
											#mf="mfDataTable" [mfRowsOnPage]="5" *ngIf="!isLoading">
											<thead>
												<tr>
													<th>
														<mfDefaultSorter by="sr_no">Sr.No.</mfDefaultSorter>
													</th>
													<th>
														<mfDefaultSorter by="category">Category</mfDefaultSorter>
													</th>
													<th>
														<mfDefaultSorter by="expense_date">Expense Date
														</mfDefaultSorter>
													</th>
													<th>
														<mfDefaultSorter by="service_provider">Service Provider
														</mfDefaultSorter>
													</th>
													<th>
														<mfDefaultSorter by="amount">Amount</mfDefaultSorter>
													</th>
													<th>
														<mfDefaultSorter by="reimburse_amount">Reimburse Amount
														</mfDefaultSorter>
													</th>
													<th>
														<mfDefaultSorter by="status">Status</mfDefaultSorter>
													</th>
													<th>
														<mfDefaultSorter by="action">Action</mfDefaultSorter>
													</th>
												</tr>
											</thead>
											<tbody>
												<tr *ngFor="let item of mf.data; let i = index" [attr.data-index]="i"
													[attr.id]="item.id">
													<td>{{i+1}}</td>
													<td>{{item.category}} </td>
													<td>{{item.expense_date}} </td>
													<td>{{item.service_provider}} </td>
													<td>{{item.amount}}</td>
													<td>{{item.reimburse_amount}} </td>
													<td>
														<p [innerHTML]="getStatus(item.status)"></p>
													</td>
													<td><a *ngFor="let file of item.expense_copy" href="{{file}}"
															target="_blank" class="btn btn-primary"><i
																class="fa fa-download"></i></a>
													</td>
												</tr>
											</tbody>
											<tfoot>
												<tr [hidden]="true">
													<td></td>
													<td></td>
												</tr>
												<tr>
													<td colspan="12">
														<mfBootstrapPaginator [rowsOnPageSet]="[5,10,15,100]">
														</mfBootstrapPaginator>
													</td>
												</tr>
											</tfoot>
										</table>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</mat-tab>
			<mat-tab label="Advance" *ngIf="!view_only_profile">
				<div class="card">
					<div class="card-body bio-graph-info">
						<div class="row">
							<div class="col-md-3">
								<h1>Advance</h1>
							</div>
							<div class="col-md-9 text-right">
								<button class="btn btn-primary" (click)="onAction(null, 'Add_Advance')"
									*ngIf="add_advance">
									<i class="fa fa-plus"></i> Add New Advance
								</button>
							</div>
						</div>
						<div class="row">
							<div class="col-md-12">
								<p-table #dt3 dataKey="id" styleClass="ui-table-salary" [value]="advance_data"
									[rows]="12" [loading]="isLoading" [autoLayout]="true" [columns]="advance_cols">
									<ng-template pTemplate="header" let-columns>
										<tr>
											<th *ngFor="let col of columns">
												{{col.header}}
											</th>
										</tr>
									</ng-template>
									<ng-template pTemplate="body" let-item>
										<tr class="ui-selectable-row">
											<td>{{item.id}}</td>
											<td>{{item.financial_year}}</td>
											<td>{{ item.advance_amount | currency:'INR' }}</td>
											<td>{{ item.advance_date | date:'dd-MMM-yyyy' }}</td>
											<td>{{ item.start_date | date:'dd-MMM-yyyy' }}</td>
											<td>{{ item.end_date | date:'dd-MMM-yyyy' }}</td>
											<td class="text-center">
												<button class="btn btn-outline-dark btn-sm action-btn"
													(click)="onAction(item, 'Advance_Installments')">
													<i class="fa fa-eye"></i>
												</button>
											</td>
										</tr>
									</ng-template>
									<ng-template pTemplate="emptymessage">
										<tr>
											<td [attr.colspan]="advance_cols.length + 1" class="text-center">No
												Data found.
											</td>
										</tr>
									</ng-template>
								</p-table>
							</div>
						</div>
					</div>
				</div>
			</mat-tab>
			<!-- <mat-tab label="Payment Requests" *ngIf="!view_only_profile">
				<div class="card">
					<div class="card-body bio-graph-info">
						<h1>Payment Requests</h1>
						<div class="row">
							<div class="col-md-12">
								<app-payable-request [initialPara]="initialPara"
									*ngIf="initialPara && showPaymentList ">
								</app-payable-request>
							</div>
						</div>
					</div>
				</div>
			</mat-tab> -->
		</mat-tab-group>
	</div>
</div>


<div bsModal #updateAttendanceModal="bs-modal" class="modal fade" tabindex="-1" role="dialog"
	aria-labelledby="Update Attendance" aria-hidden="true" [config]="{backdrop:'static'}">
	<div class="modal-dialog modal-sm" role="document">
		<div class="modal-content">
			<form [formGroup]="attendanceForm" novalidate (ngSubmit)="submitAttendanceForm()" class="needs-validation"
				autocomplete="off">
				<div class="modal-header">
					<h4 class="modal-title">Update Attendace</h4>
					<button type="button" class="close" (click)="closeModal()" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					<div class="row">
						<div class="col-md-12">
							<div class="form-group">
								<label for="status">Status</label>
								<ng-select id="status" formControlName="status" placeholder="Select Status"
									bindLabel="label" bindValue="value" [items]="attendanceStatusList"
									(change)="onChangeAttendanceStatus($event)">
								</ng-select>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-md-12">
							<div class="form-group">
								<label for="remark">Remark</label>
								<input type="text" id="remark" class="form-control" formControlName="remark"
									placeholder="Remark">
							</div>
						</div>
					</div>
				</div>
				<div class="modal-footer">
					<button type="submit" class="btn btn-primary"
						[disabled]="attendanceForm.pristine || attendanceForm.invalid">Submit</button>
				</div>
			</form>
		</div>
	</div>
</div>

<div bsModal #addLeaveModal="bs-modal" class="modal fade" tabindex="-1" role="dialog"
	aria-labelledby="Leave Application" aria-hidden="true" [config]="{backdrop:'static'}">
	<div class="modal-dialog modal-md" role="document">
		<div class="modal-content">
			<form [formGroup]="leaveForm" novalidate (ngSubmit)="submitLeaveForm()" class="needs-validation"
				autocomplete="off">
				<div class="modal-header">
					<h4 class="modal-title">Leave Applicate</h4>
					<button type="button" class="close" (click)="closeModal()" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					<div class="row">
						<div class="col-md-6">
							<div class="form-group mb-0">
								<input id="personal" type="radio" value="1" formControlName="leave_category"
									(change)="onChangeLeaveCategory($event.target.value)">
								<label for="personal">Personal</label>
							</div>
						</div>
						<div class="col-md-6">
							<div class="form-group mb-2">
								<input id="official" type="radio" value="2" formControlName="leave_category"
									(change)="onChangeLeaveCategory($event.target.value)">
								<label for="official">Official</label>
							</div>
						</div>
					</div>
					<!-- <div class="row" *ngIf="leaveForm.controls.leave_category.value == 1">
						<div class="col-md-12">
							<div class="form-group">
								<label for="leave_type">Type</label>
								<ng-select id="type" formControlName="leave_type" placeholder="Select Leave Type"
									bindLabel="name" bindValue="id" [items]="personalleaveTypesList">
								</ng-select>
							</div>
						</div>
					</div> -->
					<div class="row" *ngIf="leaveForm.controls.leave_category.value == 2">
						<div class="col-md-12">
							<div class="form-group">
								<label for="leave_type">Type</label>
								<ng-select id="type" formControlName="leave_type" placeholder="Select Leave Type"
									bindLabel="name" bindValue="id" [items]="leaveTypesList">
								</ng-select>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-md-6">
							<div class="form-group">
								<label for="from_date">From Date</label>
								<input type="text" id="from_date" class="form-control" formControlName="from_date"
									placeholder="Select From Date" [bsConfig]="datePickerConfig" readonly bsDatepicker>
							</div>
						</div>
						<div class="col-md-6">
							<div class="form-group">
								<label for="to_date">To Date</label>
								<input type="text" id="to_date" class="form-control" formControlName="to_date"
									placeholder="Select To Date" [bsConfig]="datePickerConfig" readonly bsDatepicker [minDate]="leaveForm.controls.from_date.value">
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-md-12">
							<div class="form-group">
								<label for="reason">Reason</label>
								<input type="text" id="reason" class="form-control" formControlName="reason"
									placeholder="Reason">
							</div>
						</div>
					</div>
				</div>
				<div class="modal-footer">
					<button type="submit" class="btn btn-primary"
						[disabled]="leaveForm.pristine || leaveForm.invalid">Submit</button>
				</div>
			</form>
		</div>
	</div>
</div>

<div bsModal #changePasswordModal="bs-modal" class="modal fade" tabindex="-1" role="dialog"
	aria-labelledby="Change Password" aria-hidden="true" [config]="{backdrop:'static'}">
	<div class="modal-dialog modal-md" role="document">
		<div class="modal-content">
			<form [formGroup]="passwordForm" novalidate (ngSubmit)="submitPasswordForm()" class="needs-validation">
				<div class="modal-header">
					<h4 class="modal-title">Change Password</h4>
					<button type="button" class="close" (click)="closeModal()" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					<div class="row">
						<div class="col-md-12">
							<div class="form-group">
								<label for="new_password">New Password</label>
								<input type="password" id="new_password" class="form-control"
									formControlName="new_password" placeholder="Enter New Password"
									autocomplete="false">
							</div>
						</div>
						<div class="col-md-12">
							<div class="form-group">
								<label for="confirm_new_password">Confirm New Password</label>
								<input type="password" id="confirm_new_password" class="form-control"
									formControlName="confirm_new_password" placeholder="Confirm New Password"
									autocomplete="false">
							</div>
						</div>
						<div class="col-md-12">
							<div *ngIf="passwordForm.controls.confirm_new_password.touched && passwordForm.controls.confirm_new_password.invalid"
								class="alert alert-danger">
								<div *ngIf="passwordForm.controls.confirm_new_password.errors.required">Password is
									required.</div>
								<div *ngIf="passwordForm.controls.confirm_new_password.errors.confirmedValidator">
									Password and Confirm Password
									must be match.</div>
							</div>
						</div>
					</div>
				</div>
				<div class="modal-footer">
					<button type="submit" class="btn btn-primary"
						[disabled]="passwordForm.pristine || passwordForm.invalid">Submit</button>
				</div>
			</form>
		</div>
	</div>
</div>

<div bsModal #changeProfilePhotoModal="bs-modal" class="modal fade" tabindex="-1" role="dialog"
	aria-labelledby="Change Password" aria-hidden="true" [config]="{backdrop:'static'}">
	<div class="modal-dialog modal-md" role="document">
		<div class="modal-content">
			<form [formGroup]="profilePhotoForm" novalidate (ngSubmit)="submitProfilePhotoForm()"
				class="needs-validation">
				<div class="modal-header">
					<h4 class="modal-title">Change Profile Photo</h4>
					<button type="button" class="close" (click)="closeModal()" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					<div class="row">
						<div class="col-md-12">
							<div class="form-group">
								<label for="profile_photo">Profile Photo</label>
								<input type="file" class="form-control form-control-file" id="profile_photo"
									formControlName="profile_photo" (change)="onChangeProfilePhoto($event)">
							</div>
						</div>
					</div>
				</div>
				<div class="modal-footer">
					<button type="submit" class="btn btn-primary"
						[disabled]="profilePhotoForm.pristine || profilePhotoForm.invalid">Submit</button>
				</div>
			</form>
		</div>
	</div>
</div>

<div bsModal #updateYearlyCTCModal="bs-modal" class="modal fade" tabindex="-1" role="dialog"
	aria-labelledby="Change Password" aria-hidden="true" [config]="{backdrop:'static'}">
	<div class="modal-dialog modal-xl" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<h4 class="modal-title"><i class="fa fa-plus"></i> Yearly CTC</h4>
				<button type="button" class="close" (click)="closeModal()" aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
			</div>
			<form [formGroup]="yearlyCTCForm" novalidate (ngSubmit)="submitYearlyCTCForm()" class="needs-validation">
				<div class="modal-body">
					<div class="row">
						<div class="col-md-3">
							<div class="form-group">
								<label for="financial_year">Financial Year</label>
								<input type="text" id="financial_year" class="form-control"
									formControlName="financial_year" placeholder="Select Financial Year" readonly>
							</div>
						</div>
						<div class="col-md-3">
							<div class="form-group">
								<label for="from_date">From Date</label>
								<input type="text" id="from_date" class="form-control" formControlName="from_date"
									placeholder="Select From Date" [bsConfig]="datePickerConfig" readonly bsDatepicker>
							</div>
						</div>
						<div class="col-md-3">
							<div class="form-group">
								<label for="to_date">To Date</label>
								<input type="text" id="to_date" class="form-control" formControlName="to_date"
									placeholder="Select To Date" [bsConfig]="datePickerConfig" readonly bsDatepicker>
							</div>
						</div>
						<div class="col-md-3">
							<div class="form-group">
								<label for="annual_ctc">Annual CTC</label>
								<input type="text" formControlName="annual_ctc"
									(change)="calculateAnnualSalary($event.target.value)" class="form-control"
									numbersOnly>
							</div>
						</div>
						<div class="col-md-3">
							<div class="form-group">
								<label for="basic">Basic</label>
								<input type="text" formControlName="basic" class="form-control" numbersOnly readonly>
							</div>
						</div>
						<div class="col-md-3">
							<div class="form-group">
								<label for="da">DA</label>
								<input type="text" formControlName="da" class="form-control" numbersOnly readonly>
							</div>
						</div>
						<div class="col-md-3">
							<div class="form-group">
								<label for="hra">HRA</label>
								<input type="text" formControlName="hra" class="form-control" numbersOnly readonly>
							</div>
						</div>
						<div class="col-md-3">
							<div class="form-group">
								<label for="lta">LTA</label>
								<input type="text" formControlName="lta" class="form-control" numbersOnly readonly>
							</div>
						</div>
						<div class="col-md-3">
							<div class="form-group">
								<label for="child_edu_allowance">Child Education
									Allowance</label>
								<input type="text" formControlName="child_edu_allowance" class="form-control"
									numbersOnly readonly>
							</div>
						</div>
						<div class="col-md-3">
							<div class="form-group">
								<label for="special_allowance">Special Allowance</label>
								<input type="text" formControlName="special_allowance" class="form-control" numbersOnly
									readonly>
							</div>
						</div>
						<div class="col-md-3">
							<div class="form-group">
								<label for="employee_pf">Employee PF</label>
								<input type="text" formControlName="employee_pf" class="form-control" numbersOnly
									readonly>
							</div>
						</div>
						<div class="col-md-3">
							<div class="form-group">
								<label for="employer_pf">Employer PF</label>
								<input type="text" formControlName="employer_pf" class="form-control" numbersOnly
									readonly>
							</div>
						</div>
						<div class="col-md-3">
							<div class="form-group">
								<label for="feb_pt">PT (February)</label>
								<input type="text" formControlName="feb_pt" class="form-control" numbersOnly>
							</div>
						</div>
						<div class="col-md-3">
							<div class="form-group">
								<label for="other_pt">PT (Other Months)</label>
								<input type="text" formControlName="other_pt" class="form-control" numbersOnly>
							</div>
						</div>
						<div class="col-md-3">
							<div class="form-group">
								<label for="bonus">Bonus</label>
								<input type="text" formControlName="bonus" class="form-control" numbersOnly readonly>
							</div>
						</div>
						<div class="col-md-3">
							<div class="form-group">
								<label for="incentive">Incentive</label>
								<input type="text" formControlName="incentive" class="form-control" numbersOnly>
							</div>
						</div>
					</div>
				</div>
				<div class="modal-footer">
					<button type="submit" class="btn btn-primary"
						[disabled]="yearlyCTCForm.pristine || yearlyCTCForm.invalid">Submit</button>
				</div>
			</form>
		</div>
	</div>
</div>

<div bsModal #advanceModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="Add New Advance"
	aria-hidden="true" [config]="{backdrop:'static'}">
	<div class="modal-dialog modal-lg" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<h4 class="modal-title"><i class="fa fa-plus"></i> Add New Advance</h4>
				<button type="button" class="close" (click)="closeModal()" aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
			</div>
			<form [formGroup]="advanceForm" novalidate (ngSubmit)="submitAdvanceForm()" class="needs-validation"
				autocomplete="off">
				<div class="modal-body">
					<div class="row">
						<div class="col-md-4">
							<div class="form-group">
								<label for="financial_year">Financial Year</label>
								<input type="text" id="financial_year" formControlName="financial_year"
									class="form-control" placeholder="Financial Year" readonly>
							</div>
						</div>
						<div class="col-md-4">
							<div class="form-group">
								<label for="actual_salary">Actual Salary (per Month)</label>
								<input type="text" id="actual_salary" formControlName="actual_salary"
									class="form-control" placeholder="Actual Salary" readonly>
							</div>
						</div>
						<div class="col-md-4">
							<div class="form-group">
								<label for="advance_date">Advance Date</label>
								<input type="text" class="form-control" id="advance_date" formControlName="advance_date"
									placeholder="Advance Date" [bsConfig]="datePickerConfig" bsDatepicker disabled>
							</div>
						</div>
						<div class="col-md-4">
							<div class="form-group">
								<label for="advance_amount">Advance Amount</label>
								<input type="text" id="advance_amount" formControlName="advance_amount"
									class="form-control" placeholder="Advance Amount"
									(change)="calculateAdvance($event.target.value, 'Advance_Amount')" numbersOnly>
							</div>
						</div>
						<div class="col-md-4">
							<div class="form-group">
								<label for="months">Months</label>
								<ng-select id="months" formControlName="months" placeholder="Select Months"
									[searchable]="false" [clearable]="false" bindLabel="label" bindValue="value"
									[items]="advanceMonths" (change)="calculateAdvance($event.value, 'Advance_Months')">
								</ng-select>
							</div>
						</div>
						<div class="col-md-4">
							<div class="form-group">
								<label for="start_date">Start Date</label>
								<input type="text" class="form-control" id="start_date" formControlName="start_date"
									placeholder="Start Date" [bsConfig]="datePickerConfig" bsDatepicker disabled
									(ngModelChange)="calculateAdvance($event, 'Start_Date')">
							</div>
						</div>
						<div class="col-md-4">
							<div class="form-group">
								<label for="monthly_deduction">Monthly Deduction</label>
								<input type="text" id="monthly_deduction" formControlName="monthly_deduction"
									class="form-control" placeholder="Monthly Deduction" readonly>
							</div>
						</div>
					</div>
					<hr>
					<div class="row">
						<div class="col-md-12">
							<h5>Monthly Installments</h5>
							<table class="table table-bordered table-hover">
								<thead>
									<tr>
										<th class="text-center">Sr.No.</th>
										<th>Month</th>
										<th class="text-right">Amount</th>
									</tr>
								</thead>
								<tbody>
									<tr *ngFor="let item of advance_installments; let i = index">
										<td class="text-center">{{i+1}}</td>
										<td>{{item.installment_month}}</td>
										<td class="text-right">{{item.installment_amount | currency:'INR'}}</td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>
				</div>
				<div class="modal-footer">
					<button type="submit" class="btn btn-primary"
						[disabled]="advanceForm.pristine || advanceForm.invalid || advanceForm.controls.advance_amount.value > (advanceForm.controls.actual_salary.value * 2)">Submit</button>
				</div>
			</form>
		</div>
	</div>
</div>


<div bsModal #advanceInstallmentsModal="bs-modal" class="modal fade" tabindex="-1" role="dialog"
	aria-labelledby="Add New Advance" aria-hidden="true" [config]="{backdrop:'static'}">
	<div class="modal-dialog modal-lg" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<h4 class="modal-title">Monthly Installments</h4>
				<button type="button" class="close" (click)="closeModal()" aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
			</div>
			<div class="modal-body">
				<div class="row">
					<div class="col-md-12">
						<table class="table table-bordered table-hover">
							<thead>
								<tr>
									<th class="text-center">Sr.No.</th>
									<th>Month</th>
									<th class="text-right">Amount</th>
									<th class="text-center">Status</th>
								</tr>
							</thead>
							<tbody>
								<tr *ngFor="let item of advance_installments; let i = index">
									<td class="text-center">{{i+1}}</td>
									<td>{{item.installment_month}}</td>
									<td class="text-right">{{item.installment_amount | currency:'INR'}}</td>
									<td class="text-center">
										<span class="btn btn-pill btn-sm btn-warning"
											*ngIf="item.status == 0">Pending</span>
										<span class="btn btn-pill btn-sm btn-success"
											*ngIf="item.status == 1">Paid</span>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<toaster-container [toasterconfig]="toasterconfig"></toaster-container>